"use strict";var config=require("../../../../lib/config.js"),client=require("./../client.js"),roomApp=new Vue({el:"#roomApp",data:{hidden:!0,descriptionErrorHidden:!0,waveErrorHidden:!0,descriptionError:"",waveError:""},methods:{close:function(){roomApp.hidden=!0,require("./overlay.js").hidden=!0},join:function(){var e=document.getElementById("roomDescription").value,o=parseInt(document.getElementById("roomWaves").value),n=document.getElementById("roomPassword").value;return roomApp.waveErrorHidden=!0,o>config.maxWaves?(roomApp.waveError="— Max is ".concat(config.maxWaves),void(roomApp.waveErrorHidden=!1)):o<config.minWaves?(roomApp.waveError="— Min is ".concat(config.minWaves),void(roomApp.waveErrorHidden=!1)):(client.createRoom(e,o,n),roomApp.hidden=!0,void(require("./load.js").hidden=!1))},validateFormat:function(e){8!=e.keyCode&46!=e.keyCode&&(new RegExp("[0-9]").test(e.key)||e.preventDefault())},validateAmount:function(){roomApp.validateMin(),roomApp.validateMax()},validateMax:function(e){var o=document.getElementById("roomWaves").value;parseInt(o)>config.maxWaves&&(document.getElementById("roomWaves").value=config.maxWaves.toString())},validateMin:function(e){var o=document.getElementById("roomWaves").value;parseInt(o)<config.minWaves&&(document.getElementById("roomWaves").value=config.minWaves.toString())},toggleAmount:function(e){var o=e.wheelDeltaY<0,e=parseInt(document.getElementById("roomWaves").value);o?e--:e++,document.getElementById("roomWaves").value=e.toString(),roomApp.validateAmount()},validateDescription:function(e){30<document.getElementById("roomDescription").value.length&&e.preventDefault()}}});module.exports=roomApp;